---
import { defaultLanguage } from '../config/i18n'

// Check if the URL already includes a language
const url = new URL(Astro.request.url)
const pathname = url.pathname

// If no language is specified, redirect to the default language
if (!pathname.startsWith('/en/') && !pathname.startsWith('/fa/')) {
	return Astro.redirect(`/${defaultLanguage}/terms`)
}

// If we're here, it means the page was accessed directly
// We'll render the English version by default
const { lang = defaultLanguage } = Astro.params || { lang: defaultLanguage }
---
